# this code was generated by chatgpt. I claim zero percent of this.
# this was made to turn a group of jpg,jpeg,png,gif into one video
# ie buble.py produces hundreds of jpg images, each one being a "frame"
# these images are placed in a folder IMAGES which is where this opens.
# fps of the video can eaily be changed as well as the output name and input folder
#

import os
import cv2

IMAGE_FOLDER = 'IMAGES'
OUTPUT_FOLDER_PATH = 'MOVIE/buble_sort(2).mp4
FPS = 10

def get_image_files(directory):
    return [f for f in os.listdir(directory) if f.endswith(('.jpg', '.jpeg', '.png', '.gif'))]

def create_video(IMAGE_FOLDER, OUTPUT_FOLDER_PATH, FPS=30):

    image_files = get_image_files(images_folder)
    
    # Sort image files numerically
    image_files.sort(key=lambda x: int(x.split('.')[0]))

    img = cv2.imread(os.path.join(images_folder, image_files[0]))
    height, width, _ = img.shape

    fourcc = cv2.VideoWriter_fourcc(*'mp4v')
    video_writer = cv2.VideoWriter(output_video_path, fourcc, fps, (width, height))

    total_images = len(image_files)
    for i, image_file in enumerate(image_files, 1):
        image_path = os.path.join(images_folder, image_file)
        img = cv2.imread(image_path)
        video_writer.write(img)
        
        print(f"Processed {i}/{total_images} images", end='\r')

    video_writer.release()
    print("Video creation completed.")
    


create_video(IMAGE_FOLDER, OUTPUT_FOLDER_PATH, FPS)
